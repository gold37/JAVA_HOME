<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>select 태그를 이용해 선택한 연예인의 이미지가 화면에 나타나도록 한다</title>
<style type="text/css">
	div#container {
		width: 80%;
		margin: 0px auto;
	}

	div.face {
		display: inline-block;
		margin: 20px;
	}

	select {
		height: 30px;
	}

	img {
		display: block;
		padding-top: 10px;
	}	
	
	ul {
		padding-left: 0px;
	}
</style>
<script type="text/javascript">
	
	var arrPerson = [{name:"김태희", filename:"kimth.jpg", address:"서울 강동구", email:"kimth@naver.com"}
					,{name:"아이유", filename:"iyou.jpg", address:"서울 강서구", email:"IU@naver.com"}
					,{name:"박보영", filename:"parkby.jpg", address:"서울 강남구", email:"bby@naver.com"}]; 
	
	window.onload = function() {
		
		var arrSel = document.getElementsByClassName("sel"); // 2개
		//  document.getElementId만 object가 한개고 나머지는 다 여러개(배열)임. 
		
		var sOption = "";
		for(var i=0; i<arrPerson.length; i++){
			sOption += "<option value='images/"+arrPerson[i].filename+"'>"+arrPerson[i].name+"</option>"; 
			// 					  ▲ 키 값(name)만 얻어오면 value값을 가져옴
		}
		
		for(var i=0; i<arrSel.length; i++){
			arrSel[i].innerHTML = sOption;
		}
	
		// 로딩되자마자 김태희 사진 보이기
		var arrImage = document.getElementsByClassName("image");
		
		for(var i=0; i<arrImage.length; i++){
			arrImage[i].src = arrSel[i].value;
		}
		
		
		//다른방법--------------------------------------------------------------------------------
		
		var mysel = document.getElementById("mysel");
		// value 안넣고 option만 쓰기
		var myOption = "";
		for(var i=0; i<arrPerson.length; i++) {
			myOption += "<option>"+arrPerson[i].name+"</option>";
		}
		
		mysel.innerHTML = myOption;
		
		var myimg = document.getElementById("myimg");
		myimg.src = "images/"+arrPerson[0].filename;
		
		mysel.addEventListener("change", function() {
			// alert(this.value); // 아이유
		/* 
			alert(this.selectedIndex); // 0 	1	 2
									   // 김태희 아이유 박보영
		 */
			myimg.src = "images/"+arrPerson[this.selectedIndex].filename;
			
		 //				selectedIndex는 배열의 요소로 쓰인다. ▲
		 
			if(this.selectedIndex % 2 != 0){
				myimg.style.border = "solid 1px red"; // 홀수면 빨간색 테두리
			}else {
				myimg.style.border = "solid 1px blue"; // 짝수면 파란색 테두리
			}	
		 
			// 주소와 메일 나타내기
			
			var sInfo = "<ul>"+
							"<li>"+arrPerson[this.selectedIndex].address+"</li>"+
							"<li>"+arrPerson[this.selectedIndex].email+"</li>"+
						"</ul>";
			
			document.getElementById("info3").innerHTML = sInfo;
			
		});

	} // end of window.onload = function() ---------------
	
	
	function changeImage(obj, choice) { // Ajax에서 많이 쓰임 !! 잘 알아둡시다
		
		switch (choice) {
		
		case '1':
			/* alert(obj.value); // --> ex) images/iyou.jpg */
			var arrImage1 = document.getElementsByClassName("image1");
			arrImage1[0].src = obj.value; 
			
			// 주소와 메일 나타내기
			/* alert(obj.selectedIndex); */
			/* alert(arrPerson[obj.selectedIndex].address); */
			var sInfo = "<ul>"+
							"<li>"+arrPerson[obj.selectedIndex].address+"</li>"+
							"<li>"+arrPerson[obj.selectedIndex].email+"</li>"+
						"</ul>";
			
			document.getElementById("info1").innerHTML =sInfo; 
				
				
			break;
			
		case '2':
			var arrImage2 = document.getElementsByClassName("image2");
			arrImage2[0].src = obj.value; 
			
			/* alert(obj.selectedIndex); */
			
			// 주소와 메일 나타내기
			var sInfo = "<ul>"+
							"<li>"+arrPerson[obj.selectedIndex].address+"</li>"+
							"<li>"+arrPerson[obj.selectedIndex].email+"</li>"+
						"</ul>";
			
			document.getElementById("info2").innerHTML =sInfo; 
				
			break;
		}
		
	} // end of function changeImage(obj) ----------------
	
	
	
</script>
</head>
<body>
	<div id="container">
		<div class="face">
			<select class="sel" onchange="changeImage(this, '1');"></select>
			<img class="image image1" />
			<div id="info1"></div>
		</div>
		
		<div class="face">
			<select class="sel" onchange="changeImage(this, '2');"></select>
			<img class="image image2" />
			<div id="info2"></div>
		</div>
		
		<div>
			<select id="mysel"></select>
			<img id="myimg"/>
			<div id="info3"></div>
		</div>
		
	</div>
</body>
</html>


